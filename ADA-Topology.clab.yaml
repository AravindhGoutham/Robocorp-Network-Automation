name: ADA-Topology

topology:
  nodes:
    R1:
      kind: ceos
      image: ceos:4.32.0F

    R2:
      kind: ceos
      image: ceos:4.32.0F

    R3:
      kind: ceos
      image: ceos:4.32.0F

    R4:
      kind: ceos
      image: ceos:4.32.0F

    R5:
      kind: ceos
      image: ceos:4.32.0F

    S1:
      kind: ceos
      image: ceos:4.32.0F

    S2:
      kind: ceos
      image: ceos:4.32.0F

    S3:
      kind: ceos
      image: ceos:4.32.0F

    S4:
      kind: ceos
      image: ceos:4.32.0F

    H1:
      kind: linux
      image: ubuntu-custom:latest

    H2:
      kind: linux
      image: ubuntu-custom:latest

    H3:
      kind: linux
      image: ubuntu-custom:latest

    H4:
      kind: linux
      image: ubuntu-custom:latest

    Webserver:
      kind: linux
      image: ubuntu-custom:latest

    mgmt-switch:
      kind: ceos
      image: ceos:4.32.0F

    NMAS:
      kind: host
      exec:
        - ip addr add 10.0.0.1/24 dev mgmt0

  links:
    - endpoints: ["R1:eth1", "S1:eth1"]
    - endpoints: ["R1:eth2", "S3:eth1"]
    - endpoints: ["S3:eth2", "S4:eth2"]
    - endpoints: ["S3:eth3", "R3:eth1"]
    - endpoints: ["S4:eth1", "R2:eth2"]
    - endpoints: ["S4:eth3", "R4:eth2"]
    - endpoints: ["R2:eth1", "S2:eth1"]
    - endpoints: ["R4:eth1", "R5:eth2"]
    - endpoints: ["R5:eth1", "R3:eth2"]
    - endpoints: ["S1:eth4", "S2:eth4"]

#Host connections
    - endpoints: ["S1:eth2", "H1:eth1"]
    - endpoints: ["S1:eth3", "H2:eth1"]
    - endpoints: ["S2:eth2", "H3:eth1"]
    - endpoints: ["S2:eth3", "H4:eth1"]

#R5 Webserver Connection
    - endpoints: ["R5:eth3", "Webserver:eth1"]


#Management connections
    - endpoints: ["mgmt-switch:eth1", "NMAS:mgmt0"]
    - endpoints: ["mgmt-switch:eth2", "S1:eth5"]
    - endpoints: ["mgmt-switch:eth3", "S2:eth5"]
    - endpoints: ["mgmt-switch:eth4", "R1:eth5"]
    - endpoints: ["mgmt-switch:eth5", "R2:eth5"]
    - endpoints: ["mgmt-switch:eth6", "S3:eth5"]
    - endpoints: ["mgmt-switch:eth7", "S4:eth5"]
    - endpoints: ["mgmt-switch:eth8", "R3:eth5"]
    - endpoints: ["mgmt-switch:eth9", "R4:eth5"]


